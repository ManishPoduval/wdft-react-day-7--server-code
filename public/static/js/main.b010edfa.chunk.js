(this["webpackJsonpReactTodos-client"]=this["webpackJsonpReactTodos-client"]||[]).push([[0],{62:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),c=n(23),r=n.n(c),s=(n(62),n(19)),i=n(56),l=n(8),d=n(9),u=n(11),p=n(10),j=(n(63),n(100)),h=n(101),b=n(15),m=n(1);var O=function(t){return Object(m.jsxs)(j.a,{bg:"light",expand:"lg",children:[Object(m.jsx)(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(m.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(m.jsxs)(h.a,{className:"mr-auto",children:[Object(m.jsx)(b.b,{to:"/",children:"Todos"}),Object(m.jsx)(b.b,{style:{marginLeft:"10px"},to:"/add-form",children:"Add Todo"}),t.user?Object(m.jsx)("button",{onClick:t.onLogout,children:"Logout"}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.b,{style:{marginLeft:"10px"},to:"/signin",children:"SignIn"}),Object(m.jsx)(b.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"})]})]})})]})},f=n(4),g=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=this.props.todos;return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:"My Todos"}),t.map((function(t){return Object(m.jsx)(b.b,{to:"/todos/".concat(t._id),children:Object(m.jsx)("div",{children:t.name})},t._id)}))]})}}]),n}(o.Component),x=n(12),v=n.n(x),y="https://wdft-jan-123123123.herokuapp.com",S=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todo:{}},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;console.log(this.props);var e=this.props.match.params.todoId;v.a.get("".concat(y,"/api/todos/").concat(e)).then((function(e){t.setState({todo:e.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var t=this.state.todo,e=this.props,n=e.onDelete,o=e.user;return console.log(this.props),o?Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:"Details are:"}),Object(m.jsxs)("div",{children:["Name: ",t.name]}),Object(m.jsxs)("div",{children:["Description: ",t.description]}),t.image?Object(m.jsx)("img",{src:t.image,alt:t.name}):null,Object(m.jsx)(b.b,{to:"/todo/".concat(t._id,"/edit"),children:Object(m.jsx)("button",{children:"Edit"})}),Object(m.jsx)("button",{onClick:function(){n(t._id)},children:"Delete"})]}):Object(m.jsx)(f.a,{to:"/signin"})}}]),n}(o.Component),w=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsxs)("form",{onSubmit:this.props.onAdd,children:[Object(m.jsx)("input",{name:"name",type:"text",placeholder:"Enter name"}),Object(m.jsx)("input",{name:"description",type:"text",placeholder:"Enter desc"}),Object(m.jsx)("input",{name:"todoImage",type:"file"}),Object(m.jsx)("button",{type:"submit",children:"Submit"})]})}}]),n}(o.Component),I=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todo:{}},t.handleNameChange=function(e){var n=e.target.value;console.log(n);var o=JSON.parse(JSON.stringify(t.state.todo));o.name=n,t.setState({todo:o})},t.handleDescChange=function(e){var n=e.target.value,o=JSON.parse(JSON.stringify(t.state.todo));o.description=n,t.setState({todo:o})},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.todoId;v.a.get("".concat(y,"/api/todos/").concat(e)).then((function(e){t.setState({todo:e.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var t=this.state.todo,e=this.props.onEdit;return Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",onChange:this.handleNameChange,value:t.name}),Object(m.jsx)("input",{type:"text",onChange:this.handleDescChange,value:t.description}),Object(m.jsx)("button",{onClick:function(){e(t)},children:"Submit"})]})}}]),n}(o.Component);var C=function(t){return Object(m.jsxs)("form",{onSubmit:t.onSignIn,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(m.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})};var N=function(t){return Object(m.jsxs)("form",{onSubmit:t.onSignUp,children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(m.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"}),Object(m.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(m.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),t.error?Object(m.jsx)("p",{style:{color:"red"},children:t.error.errorMessage}):null,Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})},D=n(97),k=n(102),E=n(98),U=n(99),_=(n(91),n(20)),A=n.n(_),L=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var t=[52.52,13.405],e=new A.a.Icon({iconUrl:"https://i1.wp.com/www.alliron.vc/wp-content/uploads/2018/05/logo-ironhack-1.png",iconSize:[68,65]});return Object(m.jsx)("div",{children:Object(m.jsxs)(D.a,{style:{width:"800px",height:"500px"},center:t,zoom:13,scrollWheelZoom:!1,children:[Object(m.jsx)(k.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(m.jsx)(E.a,{icon:e,position:t,children:Object(m.jsxs)(U.a,{children:["A pretty CSS3 popup. ",Object(m.jsx)("br",{})," Easily customizable."]})})]})})}}]),n}(o.Component),M=n(55);n(28),n(30),n(40),n(18);o.Component;var F=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(l.a)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))).state={todos:[],loggedInUser:null,error:null},t.handleSubmit=function(e){e.preventDefault();var n=e.target.name.value,o=e.target.description.value,a=e.target.todoImage.files[0],c=new FormData;c.append("imageUrl",a),v.a.post("".concat(y,"/api/upload"),c).then((function(e){v.a.post("".concat(y,"/api/create"),{name:n,description:o,image:e.data.image,completed:!1}).then((function(e){t.setState({todos:[e.data].concat(Object(i.a)(t.state.todos))},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Create failed",t)}))})).catch((function(){}))},t.handleDelete=function(e){v.a.delete("".concat(y,"/api/todos/").concat(e)).then((function(){var n=t.state.todos.filter((function(t){return t._id!==e}));t.setState({todos:n},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Delete failed",t)}))},t.handleEditTodo=function(e){v.a.patch("".concat(y,"/api/todos/").concat(e._id),{name:e.name,description:e.description,completed:e.completed}).then((function(){var n=t.state.todos.map((function(t){return e._id===t._id&&(t.name=e.name,t.description=e.description),t}));t.setState({todos:n},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Edit failed",t)}))},t.handleSignUp=function(e){e.preventDefault();var n={username:e.target.username.value,email:e.target.email.value,password:e.target.password.value};v.a.post("".concat(y,"/api/signup"),n).then((function(e){t.setState({loggedInUser:e.data},(function(){t.props.history.push("/")}))})).catch((function(e){t.setState({error:e.response.data})}))},t.handleSignIn=function(e){e.preventDefault();var n={email:e.target.email.value,password:e.target.password.value};v.a.post("".concat(y,"/api/signin"),n,{withCredentials:!0}).then((function(e){t.setState({loggedInUser:e.data},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Something went wrong",t)}))},t.handleLogout=function(){v.a.post("".concat(y,"/api/logout"),{},{withCredentials:!0}).then((function(){t.setState({loggedInUser:null},(function(){t.props.history.push("/")}))}))},t}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var t=this;v.a.get("".concat(y,"/api/todos")).then((function(e){console.log(e.data),t.setState({todos:e.data})})).catch((function(){console.log("Fecthing failed")})),this.state.loggedInUser||v.a.get("".concat(y,"/api/user"),{withCredentials:!0}).then((function(e){t.setState({loggedInUser:e.data})})).catch((function(){}))}},{key:"render",value:function(){var t=this,e=this.state,n=e.todos,o=e.loggedInUser,a=e.error;console.log(o);Object(M.a)("pk_test_51HJ0c0BfOEj3QZ8feuSBtbYIRg1Jz8vYESZmvp1SweikDC6I0M4OkpHmZjwj2A7qXVayZr5fS07Sz9mBZZb1O0fA00GrlcvlMN");return Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{onLogout:this.handleLogout,user:o}),Object(m.jsx)("h1",{children:"Shopping List"}),Object(m.jsx)(L,{}),Object(m.jsxs)(f.d,{children:[Object(m.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(m.jsx)(g,{todos:n})}}),Object(m.jsx)(f.b,{path:"/todos/:todoId",render:function(e){return Object(m.jsx)(S,Object(s.a)({user:o,onDelete:t.handleDelete},e))}}),Object(m.jsx)(f.b,{path:"/add-form",render:function(){return Object(m.jsx)(w,{onAdd:t.handleSubmit})}}),Object(m.jsx)(f.b,{path:"/todo/:todoId/edit",render:function(e){return Object(m.jsx)(I,Object(s.a)({onEdit:t.handleEditTodo},e))}}),Object(m.jsx)(f.b,{path:"/signin",render:function(e){return Object(m.jsx)(C,Object(s.a)({onSignIn:t.handleSignIn},e))}}),Object(m.jsx)(f.b,{path:"/signup",render:function(e){return Object(m.jsx)(N,Object(s.a)({error:a,onSignUp:t.handleSignUp},e))}})]})]})}}]),n}(o.Component),J=Object(f.g)(F);r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(b.a,{children:Object(m.jsx)(J,{})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.b010edfa.chunk.js.map